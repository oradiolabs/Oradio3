Legenda===================
R betekent reworked
V betekent rework akkoord
==========================

YYYY-MM-DD============================================================================================================================

<wat er gewijzigd is sinds vorige review/rework/verificatie>

2025-11-13============================================================================================================================

- mpd branch:
1 - Documents/MPD/MPDControl_module_description.docx gemaakt voor huidige MPD implementatie (vervangt MPDControl_module_description.docx)
2 - mpd_control.py - play method (na aanpassingen om minder vaak hetzelfde nummer te horen)
3 - mpd_monitor.py - start en stop methods zijn verdwenen (het is niet eenvoudig, en ook niet nodig, om de monitor te kunnen stoppen en starten)

----

- i2c branch:
4 - Documents/I2C/I2C_modules_description.docx gemaakt voor huidige I2C implementatie (vervangt backlighting_module_description.docx en VolumeControl_module_description_updated.docx)
5 - In oradio_install.sh de installatie van de backlighting service verwijderd
6 - In install_resource folder backlighting.service.template verwijderd
7 - In python folder:
8   - test_backlighting.py verwijderd (stand-alone test is onderdeel van nieuwe backlighting.py)
9   - nieuwe i2c_service.py met class I2CService gemaakt (thread-safe wrapper voor read/write byte/block methods met error handling)
10  - backlighting.py refactored: gebruikt I2CService, methods voor start/stop van zelfstandige backlight manager daemon thread
11  - volume_control.py refactored: gebruikt I2CService, methods voor start/stop van volume control manager daemon thread die de waarde van de knop leest en volume aanpast. Volume change messages worden op verzoek gegenereerd

2025-11-10============================================================================================================================

mpd_control.py:
- Olaf maakt test module mpd_control_test.py

----

GPIO:
Henk review: led_control.py
1 - GPIO zaken ontkoppelen uit led_control.py. De GPIO wordt zowel in led_control als in touch_buttons geinitialiseerd. 
     Zou op 1 plek moeten. Daarom GPIO zaken in een aparte module gpio_service.py afhandelen. 
     Daarbij een klasse aanbieden met config en set/get methodes. 
     Geeft betere abstractie door toevoeging van een hardware abstractie laag
2 - methodes turn_off_led(), turn_on_led(), turn_on_led_with_delay() moeten een True/False teruggeven
3 - delayed_off() thread gebruikt een sleep als delay.Beter is om een Timer thread te gebruiken
4 - control_blinking_led(self, led_name, cycle_time=None), graag de cycle_time parameter specificeren.
5 - De selftest is niet doelmatig. Beter is om  te testen of de leds ook werkelijk aan of uit staan door de GPIO status op te vragen van de geactiveerde led. 
     Hiermee test je of de leds werkelijk aan of uit staan.

2025-11-10============================================================================================================================

mpd_control.py:
V 1 - Refactored code zit in trixie_mpd branch
V 2 - mpd_client singleton moet eruit
V 3 - Listener moet aparte singleton class worden
V 4 - functies die waarde retourneren maar deze genegeerd wordt moeten _ = <functie>  gebruiken om te laten zien dat negeren bewust is
V 5 - LET OP: bovenstaande heeft ook impact op radio_control.py en fastapi_server.py
V 6 - Probleem in _remove_song_when_finished(), met een if conditie waarbij een int() met een string vergeleken wordt: de "deleteid" wordt niet uitgevoerd
V 7 - Hetzelfde probleem in play_song(), ook een int()/String compare. Graag ook de single-line-code minder complex maken door meerdere code regels er aan te wijden. De code is dan beter leesbaar en te begrijpen. Ik heb voorbeeld toegevoegd.
V 8 - Probleem met twee self._execute() die bijelkaar gevoegd worden. Gaat fout als er None terugkomt==> TypeError
V 9 - Groene tekst als een module test optie een succes oplevert.
V 10 - Verhuis MPDBase naar eigen file mpd_base.py, laat mpd_control.p en mpd_monito.py die importeren
V 11 - Gebruik 'Singleton metaclass' in mpd_monitor.py (later ook in andere modules waar Singleton gebruikt wordt)
=> Review/Rework conclusie: Rework akkoord en hiermee mpd review afgesloten.

----

led_control.py, test_backlighting.py en touch_buttons.py:
- Gebruiken GPIO maar weten dat niet van elkaar, waardoor conflicten kunnen ontstaan: Refactor
- test_backlighting.py verhuizen naar backlighting.py in stand-alone mode

----

GPIO:
led_control.py en touch_buttons.py:
- Gebruiken GPIO maar weten dat niet van elkaar, waardoor conflicten kunnen ontstaan: Refactor

hw_serial_number_gen.py:
- Nu is HW identifier hard coded. Moet dynamisch worden, want we hebben verschillende hw versies
- Willen we een 'echt' versienummer maken in plaats van huidige string?

